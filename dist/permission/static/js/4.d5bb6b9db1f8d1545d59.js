webpackJsonp([4],{"16eN":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("V2TD"),i=a("dRpc"),s=a("VU/8"),o=s(n.a,i.a,!1,null,null,null);t.default=o.exports},V2TD:function(e,t,a){"use strict";t.a={data:function(){return{q:{user:"",app:"",menu:"",beginTime:null,endTime:null},disabledTime:{disabledDate:function(e){return e&&e.valueOf()>Date.now()}},rangeTime:[],tableData:[],noDataText:"",spinShow:!0,columns:[{title:"主机地址",key:"client"},{title:"用户名称",key:"user"},{title:"应用名称",key:"app"},{title:"菜单名称",key:"menu"},{title:"操作时间",key:"infoTime"}],totalCount:0,sizeopt:[10,20,50,100],size:10,currPage:1,getPage:!0,getSize:!0}},methods:{query:function(){this.currPage=1,this.reload()},downLoad:function(){},getTime:function(e){this.q.beginTime=e[0]?new Date(e[0]+" 00:00:00").toString():null,this.q.endTime=e[1]?new Date(e[1]+" 23:59:59").toString():null},changePage:function(e){this.currPage=e,this.reload()},reload:function(){var e=this;axios.get(getUrl("History/OpeHisList"),{params:{user:e.q.user,app:e.q.app,menu:e.q.menu,beginTime:e.q.beginTime,endTime:e.q.endTime,currPage:e.currPage,pageSize:e.size},loading:!0,unload:!0}).then(function(t){e.totalCount=t.pager.totalCount,t.pager.list&&t.pager.list.length>0?e.tableData=t.pager.list:(e.tableData=[],e.noDataText="暂无数据")}).catch(function(){e.noDataText="暂无数据"})},changeSize:function(e){this.size=e,this.currPage=1,this.reload()}},mounted:function(){this.reload()}}},dRpc:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box user-box operation"},[a("div",{staticClass:"groups form-condition",on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.query(t)}}},[a("Input",{staticClass:"w-md",attrs:{placeholder:"请输入用户名"},model:{value:e.q.user,callback:function(t){e.$set(e.q,"user",t)},expression:"q.user"}}),e._v(" "),a("Input",{staticClass:"w-md",attrs:{placeholder:"请输入应用名称"},model:{value:e.q.app,callback:function(t){e.$set(e.q,"app",t)},expression:"q.app"}}),e._v(" "),a("Input",{staticClass:"w-md",attrs:{placeholder:"请输入菜单名称"},model:{value:e.q.menu,callback:function(t){e.$set(e.q,"menu",t)},expression:"q.menu"}}),e._v(" "),a("DatePicker",{staticClass:"date-w180",attrs:{value:e.rangeTime,options:e.disabledTime,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"请选择时间范围"},on:{"on-change":e.getTime}}),e._v(" "),a("Button",{staticClass:"search",attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-wrap"},[a("Table",{staticClass:"table",attrs:{border:"","no-data-text":e.noDataText,data:e.tableData,columns:e.columns,stripe:""}})],1),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden","margin-bottom":"60px"}},[a("div",{staticClass:"pull-right",attrs:{id:"page"}},[a("Page",{attrs:{size:"small",total:e.totalCount,current:e.currPage,"page-size":e.size,"page-size-opts":e.sizeopt,"show-elevator":"","show-sizer":"","show-total":"",placement:"top"},on:{"on-change":function(t){e.changePage(t)},"on-page-size-change":e.changeSize}})],1)])]),e._v(" "),a("BackTop",{attrs:{bottom:150}})],1)},i=[],s={render:n,staticRenderFns:i};t.a=s}});
//# sourceMappingURL=4.d5bb6b9db1f8d1545d59.js.map
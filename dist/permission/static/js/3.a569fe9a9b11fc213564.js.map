{"version":3,"sources":["webpack:///static/js/3.a569fe9a9b11fc213564.js","webpack:///./src/pages/sys/user.vue?2a55","webpack:///./src/pages/sys/user.vue","webpack:///src/pages/sys/user.vue"],"names":["webpackJsonp","8als","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","placeholder","nativeOn","keyup","$event","_k","keyCode","key","query","model","q","callback","$$v","$set","_v","type","on","click","downLoad","staticStyle","display","src","id","frameborder","border","width","tableWidth_","no-data-text","noDataText","data","tableData","columns","stripe","margin","overflow","margin-bottom","size","total","totalCount","current","currPage","page-size","page-size-opts","sizeopt","show-elevator","show-sizer","show-total","placement","on-change","changePage","on-page-size-change","changeSize","showList","dis-hover","slot","editUser","label-width","label","domProps","textContent","_s","appAccount","displayName","zwbmName","mobile","email","maxlength","autocomplete","input","target","composing","errors","has","first","focus","cleartip","save","cancel","bottom","staticRenderFns","esExports","MFE9","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_user_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2a574b65_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_user_vue__","normalizeComponent","Component","tEIY","$","vm","window","ActiveXObject","css","formItem","username","title","spinShow","h","params","rowData","row","employeeId","props","disabled","state","axios","post","getUrl","then","code","$Message","success","reload","warning","msg","userRole","href","update","fixedHeader","getPage","getSize","fileName","methods","userData","getUser","$validator","clear","password","repassword","validateAll","valid","appAccountPwd","String","replace","toUpperCase","get","userName","pageSize","loading","unload","page","list","length","forEach","v","i","tPrimary","catch","err","extend","tableWidth","document","body","clientWidth","url","getElementById","beforeCreate","rules","confirm","validate","getMessage","mounted","call"],"mappings":"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","file":"static/js/3.a569fe9a9b11fc213564.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"8als\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box user-box user\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showList),expression:\"showList\"}]},[_c('div',{staticClass:\"form-condition form-inline\"},[_c('div',{staticClass:\"form-group\"},[_c('Input',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请输入用户账号\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.query($event)}},model:{value:(_vm.q.username),callback:function ($$v) {_vm.$set(_vm.q, \"username\", $$v)},expression:\"q.username\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('Button',{staticClass:\"search\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('Button',{staticClass:\"search\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.downLoad}},[_vm._v(\"导出\")]),_vm._v(\" \"),_c('iframe',{staticStyle:{\"display\":\"none\"},attrs:{\"src\":\"\",\"id\":\"loadIframe\",\"frameborder\":\"0\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"table-wrap\"},[_c('Table',{staticClass:\"table\",attrs:{\"border\":\"\",\"width\":_vm.tableWidth_,\"no-data-text\":_vm.noDataText,\"data\":_vm.tableData,\"columns\":_vm.columns,\"stripe\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\",\"margin-bottom\":\"60px\"}},[_c('div',{staticClass:\"pull-right\",attrs:{\"id\":\"page\"}},[_c('Page',{attrs:{\"size\":\"small\",\"total\":_vm.totalCount,\"current\":_vm.currPage,\"page-size\":_vm.size,\"page-size-opts\":_vm.sizeopt,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\",\"placement\":\"top\"},on:{\"on-change\":function($event){_vm.changePage($event)},\"on-page-size-change\":_vm.changeSize}})],1)])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showList),expression:\"!showList\"}],staticClass:\"panel panel-default\"},[_c('Card',{attrs:{\"dis-hover\":\"\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('Form',{attrs:{\"model\":_vm.editUser,\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"用户账号\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.appAccount)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户名称\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.displayName)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"职务名称\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.zwbmName)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"手机号\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.mobile)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"邮箱\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.email)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"新密码\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editUser.password),expression:\"editUser.password\"},{name:\"validate\",rawName:\"v-validate\",value:('required:新密码|min:6'),expression:\"'required:新密码|min:6'\"}],staticClass:\"user-password\",attrs:{\"type\":\"password\",\"name\":\"新密码\",\"maxlength\":\"20\",\"placeholder\":\"请输入新密码\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.editUser.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editUser, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('新密码')),expression:\"errors.has('新密码')\"}],staticClass:\"tip-danger\"},[_c('Icon',{attrs:{\"type\":\"android-warning\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.errors.first('新密码'))+\"\\n          \")],1)]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"确认新密码\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editUser.repassword),expression:\"editUser.repassword\"},{name:\"validate\",rawName:\"v-validate\",value:('required:确认密码|min:6|confirm'),expression:\"'required:确认密码|min:6|confirm'\"}],staticClass:\"user-password\",attrs:{\"type\":\"password\",\"name\":\"确认密码\",\"maxlength\":\"20\",\"placeholder\":\"请确认新密码\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.editUser.repassword)},on:{\"focus\":_vm.cleartip,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editUser, \"repassword\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('确认密码')),expression:\"errors.has('确认密码')\"}],staticClass:\"tip-danger\"},[_c('Icon',{attrs:{\"type\":\"android-warning\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.errors.first('确认密码'))+\"\\n          \")],1)]),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)],1),_vm._v(\" \"),_c('BackTop',{attrs:{\"bottom\":150}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"MFE9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_user_vue__ = __webpack_require__(\"tEIY\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2a574b65_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_user_vue__ = __webpack_require__(\"8als\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_user_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2a574b65_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_user_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"tEIY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar vm = this;\nif (!!window.ActiveXObject || \"ActiveXObject\" in window) {\n  $('.tip-danger').css('color', 'transparent');\n}\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      formItem: {},\n      q: {\n        username: ''\n      },\n      showList: true,\n      title: null,\n      editUser: {},\n      tableData: [],\n      tableWidth_: '',\n      noDataText: '',\n      spinShow: true,\n      columns: [{\n        title: '用户账号',\n        key: 'appAccount',\n        width: '120'\n      }, {\n        title: '用户名称',\n        key: 'displayName',\n        width: '90'\n      }, {\n        title: '主岗/兼职',\n        key: 'tPrimary',\n        width: '80'\n      }, {\n        title: '岗位编码',\n        key: 'positionCode',\n        width: '150'\n      }, {\n        title: '岗位名称',\n        key: 'positionDesc'\n      }, {\n        title: '公司代码',\n        key: 'companyCode',\n        width: '90'\n      }, {\n        title: '角色编码',\n        key: 'zwbm',\n        width: '100'\n      }, {\n        title: '角色名称',\n        key: 'zwbmName',\n        width: '100'\n        // 一个用户可能身兼多职，返回的是一个数组，显示上拼接成字符串\n        //render=>function(h, params){\n        //    var zwbms = params.row.zwbms;\n        //    return h(\"span\", null, zwbms && zwbms.join && zwbms.join(\"，\") || zwbms);\n        //}\n      }, {\n        title: '状态', // 1，新增；4：解锁；5：锁定。改变用户状态只需要给接口传入4或5\n        key: \"state\",\n        width: '90',\n        render: function render(h, params) {\n          var rowData = params.row,\n              employeeId = rowData.employeeId;\n          return h(\"i-switch\", {\n            props: {\n              size: \"large\",\n              disabled: rowData.state == \"3\",\n              value: rowData.state == '1' // 只有1的时候是启用\n            },\n            on: {\n              // 启用状态改变的时候，发送请求同步变化\n              \"on-change\": function onChange(state) {\n                axios.post(getUrl(\"updateUserStatus\"), { employeeId: employeeId, state: state ? 1 : 5 }).then(function (data) {\n                  if (data.code === 0) {\n                    // 操作成功\n                    vm.$Message.success(\"操作成功\");\n                    vm.reload();\n                  } else {\n                    vm.$Message.warning(data.msg);\n                  }\n                });\n              }\n            }\n          }, [h(\"span\", { slot: \"open\" }, \"启用\"), h(\"span\", { slot: \"close\" }, \"禁用\")]);\n        }\n      }, {\n        title: '管理员', // 1，新增；4：解锁；5：锁定。改变用户状态只需要给接口传入4或5\n        key: \"userRole\",\n        width: '90',\n        render: function render(h, params) {\n          var rowData = params.row,\n              employeeId = rowData.employeeId;\n          return h(\"i-switch\", {\n            props: {\n              size: \"large\",\n              disabled: rowData.state == '3',\n              value: rowData.userRole == \"1\" // 只有为1的时候 是管理员状态\n            },\n            on: {\n              // 启用状态改变的时候，发送请求同步变化\n              \"on-change\": function onChange(userRole) {\n                axios.post(getUrl(\"updateUserRole\"), { employeeId: employeeId, userRole: userRole ? 1 : 0 }).then(function (data) {\n                  console.log(data);\n                  if (data.code === 0) {\n                    // 操作成功\n                    vm.$Message.success(\"操作成功\");\n                    vm.reload();\n                  } else {\n                    vm.$Message.warning(data.msg);\n                  }\n                });\n              }\n            }\n          }, [h(\"span\", { slot: \"open\" }, \"是\"), h(\"span\", { slot: \"close\" }, \"否\")]);\n        }\n      }, {\n        title: '起始日期',\n        key: 'startDate',\n        width: '90'\n      }, {\n        title: '截止日期',\n        key: 'endDate',\n        width: '90'\n      }, {\n        title: '操作',\n        width: '120',\n        render: function render(h, params) {\n          var rowData = params.row;\n          if (rowData.state != '3') {\n            return h(\"a\", {\n              attrs: {\n                href: \"javascript:;\"\n              },\n              on: {\n                click: function click() {\n                  vm.update(rowData);\n                }\n              }\n            }, '修改密码');\n          } else {\n            return h(\"span\", {}, '修改密码');\n          }\n        }\n      }],\n      totalCount: 0,\n      sizeopt: [10, 20, 50, 100],\n      size: 10,\n      currPage: 1,\n      fixedHeader: false,\n      getPage: true,\n      getSize: true,\n      fileName: ''\n    };\n  },\n  methods: {\n    query: function query() {\n      vm.spinShow = true;\n      vm.currPage = 1;\n      vm.reload();\n    },\n    update: function update(userData) {\n      var employeeId = userData.employeeId;\n      if (employeeId == null) {\n        return;\n      }\n      vm.showList = false;\n      vm.title = \"修改\";\n      vm.getUser(userData);\n      //每次进入修改密码前先清空上一次的错误提示\n      this.$validator.errors.clear();\n      vm.editUser.password = '';\n      vm.editUser.repassword = '';\n    },\n    save: function save() {\n      var editUser = this.editUser,\n          $Message = this.$Message;\n      this.$validator.validateAll().then(function (valid) {\n        if (valid) {\n          axios.post(getUrl(\"updatePwd\"), {\n            employeeId: editUser.employeeId,\n            appAccountPwd: editUser.password\n          }).then(function (data) {\n            if (data.code === 0) {\n              // 操作成功\n              $Message.success(\"操作成功\");\n              vm.reload();\n            } else {\n              $Message.warning(data.msg);\n            }\n          });\n        } else {\n          $('.tip-danger').css('color', '#e75033');\n        }\n      });\n    },\n    // 取消编辑操作\n    cancel: function cancel() {\n      this.showList = true;\n      this.editUser = {};\n    },\n    reload: function reload() {\n      vm = this;\n      vm.showList = true;\n      if (vm.q.username != '') {\n        vm.q.username = String(vm.q.username).replace(/\\s+/g, \"\").toUpperCase();\n      }\n      axios.get(getUrl(\"userList\"), {\n        params: {\n          userName: vm.q.username,\n          currPage: vm.currPage,\n          pageSize: vm.size\n        },\n        loading: true,\n        unload: true\n      }).then(function (data) {\n        vm.spinShow = false;\n        var page = data.page;\n        vm.getPage = true;\n        vm.getSize = true;\n        vm.totalCount = page.totalCount;\n        if (page.list && page.list.length > 0) {\n          page.list.forEach(function (v, i) {\n            if (v.tPrimary == 1) {\n              v.tPrimary = '主岗';\n            } else {\n              v.tPrimary = '兼职';\n            }\n          });\n          vm.tableData = page.list;\n        } else {\n          vm.tableData = [];\n          vm.noDataText = '暂无数据';\n        }\n\n        vm.currPage = page.currPage;\n      }).catch(function (err) {\n        vm.spinShow = false;\n        vm.noDataText = '暂无数据';\n        console.log(err);\n      });\n    },\n    getUser: function getUser(userData) {\n      this.editUser = $.extend({}, userData);\n    },\n    // 表格页码切换\n    changePage: function changePage(page) {\n      vm.spinShow = true;\n      this.currPage = page;\n      if (this.getPage) {\n        this.reload();\n      } else {\n        this.getPage = false;\n      }\n    },\n    // 表格显示条数切换\n    changeSize: function changeSize(pageSize) {\n      vm.spinShow = true;\n      this.size = pageSize;\n      this.currPage = 1;\n      if (this.getSize) {\n        this.reload();\n      } else {\n        this.getSize = false;\n      }\n    },\n    tableWidth: function tableWidth() {\n      if (document.body.clientWidth <= 1400) {\n        // vm.tableWidth_=1600;\n        //$('.table-wrap').css({'overflowX':'scroll','minWidth':'800px'})\n        vm.columns.forEach(function (v, i) {\n          v.width = '';\n        });\n        vm.columns[0].width = '100';\n      }\n    },\n    cleartip: function cleartip() {\n      if (!!window.ActiveXObject || \"ActiveXObject\" in window) {\n        $('.tip-danger').css('color', 'transparent');\n      }\n    },\n    downLoad: function downLoad() {\n      var url = getUrl(\"userdownLoad\") + \"?userName=\" + vm.q.username;\n      document.getElementById('loadIframe').src = url;\n    }\n\n  },\n  // 及早地给校验器绑定配置信息\n  beforeCreate: function beforeCreate() {\n    var vm = this,\n        v = this.$validator,\n        rules = {\n      \"confirm\": {\n        validate: function validate(value) {\n          return vm.editUser.password == value;\n        },\n        getMessage: \"两次密码不一致\"\n      }\n    };\n    for (var i in rules) {\n      v.extend(i, rules[i]);\n    }\n  },\n  mounted: function mounted() {\n    $(window).on('resize', function () {\n      vm.tableWidth();\n    });\n    this.reload();\n    this.tableWidth();\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"7t+N\")))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.a569fe9a9b11fc213564.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box user-box user\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showList),expression:\"showList\"}]},[_c('div',{staticClass:\"form-condition form-inline\"},[_c('div',{staticClass:\"form-group\"},[_c('Input',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请输入用户账号\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.query($event)}},model:{value:(_vm.q.username),callback:function ($$v) {_vm.$set(_vm.q, \"username\", $$v)},expression:\"q.username\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('Button',{staticClass:\"search\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('Button',{staticClass:\"search\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.downLoad}},[_vm._v(\"导出\")]),_vm._v(\" \"),_c('iframe',{staticStyle:{\"display\":\"none\"},attrs:{\"src\":\"\",\"id\":\"loadIframe\",\"frameborder\":\"0\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"table-wrap\"},[_c('Table',{staticClass:\"table\",attrs:{\"border\":\"\",\"width\":_vm.tableWidth_,\"no-data-text\":_vm.noDataText,\"data\":_vm.tableData,\"columns\":_vm.columns,\"stripe\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\",\"margin-bottom\":\"60px\"}},[_c('div',{staticClass:\"pull-right\",attrs:{\"id\":\"page\"}},[_c('Page',{attrs:{\"size\":\"small\",\"total\":_vm.totalCount,\"current\":_vm.currPage,\"page-size\":_vm.size,\"page-size-opts\":_vm.sizeopt,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\",\"placement\":\"top\"},on:{\"on-change\":function($event){_vm.changePage($event)},\"on-page-size-change\":_vm.changeSize}})],1)])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showList),expression:\"!showList\"}],staticClass:\"panel panel-default\"},[_c('Card',{attrs:{\"dis-hover\":\"\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('Form',{attrs:{\"model\":_vm.editUser,\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"用户账号\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.appAccount)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户名称\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.displayName)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"职务名称\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.zwbmName)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"手机号\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.mobile)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"邮箱\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.editUser.email)}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"新密码\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editUser.password),expression:\"editUser.password\"},{name:\"validate\",rawName:\"v-validate\",value:('required:新密码|min:6'),expression:\"'required:新密码|min:6'\"}],staticClass:\"user-password\",attrs:{\"type\":\"password\",\"name\":\"新密码\",\"maxlength\":\"20\",\"placeholder\":\"请输入新密码\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.editUser.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editUser, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('新密码')),expression:\"errors.has('新密码')\"}],staticClass:\"tip-danger\"},[_c('Icon',{attrs:{\"type\":\"android-warning\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.errors.first('新密码'))+\"\\n          \")],1)]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"确认新密码\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editUser.repassword),expression:\"editUser.repassword\"},{name:\"validate\",rawName:\"v-validate\",value:('required:确认密码|min:6|confirm'),expression:\"'required:确认密码|min:6|confirm'\"}],staticClass:\"user-password\",attrs:{\"type\":\"password\",\"name\":\"确认密码\",\"maxlength\":\"20\",\"placeholder\":\"请确认新密码\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.editUser.repassword)},on:{\"focus\":_vm.cleartip,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editUser, \"repassword\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('确认密码')),expression:\"errors.has('确认密码')\"}],staticClass:\"tip-danger\"},[_c('Icon',{attrs:{\"type\":\"android-warning\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.errors.first('确认密码'))+\"\\n          \")],1)]),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)],1),_vm._v(\" \"),_c('BackTop',{attrs:{\"bottom\":150}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a574b65\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader?{\"prefix\":false}!./src/pages/sys/user.vue\n// module id = 8als\n// module chunks = 3","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./user.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a574b65\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./user.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/sys/user.vue\n// module id = MFE9\n// module chunks = 3","<template>\n  <div class=\"box user-box user\">\n    <div v-show=\"showList\">\n      <div class=\"form-condition form-inline\">\n        <div class=\"form-group\">\n          <Input class=\"input-box\"  v-model=\"q.username\" placeholder=\"请输入用户账号\" @keyup.enter.native=\"query\"></Input>\n        </div>\n        <div class=\"form-group\">\n          <Button type=\"primary\" class=\"search\" @click=\"query\" >查询</Button>\n        </div>\n        <div class=\"form-group\">\n          <Button type=\"primary\" class=\"search\" @click=\"downLoad\" >导出</Button>\n          <iframe src=\"\" id=\"loadIframe\" frameborder=\"0\" style=\"display:none\"></iframe>\n        </div>\n      </div>\n      <div class=\"table\">\n        <div class=\"table-wrap\">\n          <Table border :width=\"tableWidth_\"  :no-data-text=\"noDataText\" class=\"table\" :data=\"tableData\" :columns=\"columns\" stripe></Table>\n        </div>\n        <div style=\"margin: 10px;overflow: hidden;margin-bottom: 60px;\">\n          <div id=\"page\" class=\"pull-right\">\n            <Page size=\"small\" :total=\"totalCount\" :current=\"currPage\" :page-size=\"size\" :page-size-opts=\"sizeopt\" show-elevator show-sizer show-total @on-change=\"changePage($event)\"\n                  @on-page-size-change=\"changeSize\" placement=\"top\"></Page>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-show=\"!showList\" class=\"panel panel-default\">\n      <Card dis-hover>\n        <p slot=\"title\">修改密码</p>\n        <Form :model=\"editUser\" :label-width=\"120\">\n          <FormItem label=\"用户账号\">\n            <span v-text=\"editUser.appAccount\"></span>\n          </FormItem>\n          <FormItem label=\"用户名称\">\n            <span v-text=\"editUser.displayName\"></span>\n          </FormItem>\n          <FormItem label=\"职务名称\">\n            <span v-text=\"editUser.zwbmName\"></span>\n          </FormItem>\n          <FormItem label=\"手机号\">\n            <span v-text=\"editUser.mobile\"></span>\n          </FormItem>\n          <FormItem label=\"邮箱\">\n            <span v-text=\"editUser.email\"></span>\n          </FormItem>\n          <FormItem label=\"新密码\">\n            <input type=\"password\"   class=\"user-password\" name=\"新密码\" maxlength=\"20\" placeholder=\"请输入新密码\"\n                   autocomplete=\"off\"  v-model=\"editUser.password\" v-validate=\"'required:新密码|min:6'\"\n            >\n            <div v-show=\"errors.has('新密码')\" class=\"tip-danger\">\n              <Icon type=\"android-warning\"></Icon>\n              {{ errors.first('新密码') }}\n            </div>\n          </FormItem>\n          <FormItem label=\"确认新密码\">\n            <input type=\"password\"  class=\"user-password\" name=\"确认密码\" maxlength=\"20\" placeholder=\"请确认新密码\"\n                   @focus=\"cleartip\" autocomplete=\"off\" v-model=\"editUser.repassword\" v-validate=\"'required:确认密码|min:6|confirm'\"\n            />\n            <div v-show=\"errors.has('确认密码')\" class=\"tip-danger\">\n              <Icon type=\"android-warning\"></Icon>\n              {{ errors.first('确认密码') }}\n            </div>\n          </FormItem>\n          <FormItem>\n            <Button type=\"primary\" @click=\"save\">保存</Button>\n            <Button @click=\"cancel\">取消</Button>\n          </FormItem>\n        </Form>\n      </Card>\n\n    </div>\n    <BackTop :bottom=\"150\"></BackTop>\n  </div>\n</template>\n<script>\n  var vm = this;\n  if (!!window.ActiveXObject || \"ActiveXObject\" in window) {\n    $('.tip-danger').css('color','transparent');\n\n  }\n  export default {\n    data: function(){\n        return {\n          formItem: {},\n          q:{\n            username: '',\n          },\n          showList: true,\n          title:null,\n          editUser:{},\n          tableData:[],\n          tableWidth_:'',\n          noDataText:'',\n          spinShow:true,\n          columns: [\n            {\n              title: '用户账号',\n              key: 'appAccount',\n              width:'120'\n            },\n            {\n              title: '用户名称',\n              key: 'displayName',\n              width:'90'\n            },\n            {\n              title: '主岗/兼职',\n              key: 'tPrimary',\n              width:'80'\n            },\n            {\n              title: '岗位编码',\n              key: 'positionCode',\n              width:'150'\n            },\n            {\n              title: '岗位名称',\n              key: 'positionDesc'\n            },\n            {\n              title: '公司代码',\n              key: 'companyCode',\n              width:'90'\n            },\n            {\n              title: '角色编码',\n              key: 'zwbm',\n              width:'100'\n            },\n            {\n              title: '角色名称',\n              key: 'zwbmName',\n              width:'100'\n              // 一个用户可能身兼多职，返回的是一个数组，显示上拼接成字符串\n              //render=>function(h, params){\n              //    var zwbms = params.row.zwbms;\n              //    return h(\"span\", null, zwbms && zwbms.join && zwbms.join(\"，\") || zwbms);\n              //}\n            },\n            {\n              title: '状态',// 1，新增；4：解锁；5：锁定。改变用户状态只需要给接口传入4或5\n              key: \"state\",\n              width:'90',\n              render: function(h, params){\n                var rowData = params.row, employeeId = rowData.employeeId;\n                return h(\"i-switch\",\n                  {\n                    props: {\n                      size: \"large\",\n                      disabled:rowData.state==\"3\",\n                      value: rowData.state=='1'// 只有1的时候是启用\n                    },\n                    on: {\n                      // 启用状态改变的时候，发送请求同步变化\n                      \"on-change\": function(state){\n                        axios.post(getUrl(\"updateUserStatus\"), {employeeId: employeeId, state: state ? 1 : 5}\n                        ).then(function(data){\n                          if(data.code === 0){ // 操作成功\n                            vm.$Message.success(\"操作成功\");\n                            vm.reload();\n                          }else{\n                            vm.$Message.warning(data.msg);\n                          }\n                        });\n                      }\n                    }\n                  },\n                  [\n                    h(\"span\", {slot: \"open\"}, \"启用\"),\n                    h(\"span\", {slot: \"close\"}, \"禁用\")\n                  ]\n                )\n              }\n            },\n            {\n              title: '管理员',// 1，新增；4：解锁；5：锁定。改变用户状态只需要给接口传入4或5\n              key: \"userRole\",\n              width:'90',\n              render: function(h, params){\n                var rowData = params.row, employeeId = rowData.employeeId;\n                return h(\"i-switch\",\n                  {\n                    props: {\n                      size: \"large\",\n                      disabled:rowData.state=='3',\n                      value: rowData.userRole == \"1\"// 只有为1的时候 是管理员状态\n                    },\n                    on: {\n                      // 启用状态改变的时候，发送请求同步变化\n                      \"on-change\": function(userRole){\n                        axios.post(getUrl(\"updateUserRole\"), {employeeId: employeeId, userRole: userRole ? 1 : 0}).then(function(data){\n                          console.log(data);\n                          if(data.code === 0){ // 操作成功\n                            vm.$Message.success(\"操作成功\");\n                            vm.reload();\n                          }else{\n                            vm.$Message.warning(data.msg);\n                          }\n                        })\n                      }\n                    }\n                  },\n                  [\n                    h(\"span\", {slot: \"open\"}, \"是\"),\n                    h(\"span\", {slot: \"close\"}, \"否\")\n                  ]\n                )\n              }\n            },\n            {\n              title: '起始日期',\n              key: 'startDate',\n              width:'90'\n            },\n            {\n              title: '截止日期',\n              key: 'endDate',\n              width:'90'\n            },\n            {\n              title: '操作',\n              width:'120',\n              render: function(h, params){\n                var rowData = params.row;\n                if(rowData.state!='3'){\n                  return h(\"a\", {\n                    attrs: {\n                      href: \"javascript:;\"\n                    },\n                    on: {\n                      click: function(){\n                        vm.update(rowData);\n                      }\n                    }\n                  }, '修改密码')\n                }else {\n                  return h(\"span\", {\n                  }, '修改密码')\n                }\n\n\n              }\n            }\n          ],\n          totalCount:0,\n          sizeopt:[10,20,50,100],\n          size:10,\n          currPage:1,\n          fixedHeader:false,\n          getPage:true,\n          getSize:true,\n          fileName:''\n        }\n    },\n    methods: {\n      query: function () {\n        vm.spinShow=true;\n        vm.currPage=1;\n        vm.reload();\n      },\n      update: function (userData) {\n        var employeeId = userData.employeeId;\n        if(employeeId == null){\n          return ;\n        }\n        vm.showList = false;\n        vm.title = \"修改\";\n        vm.getUser(userData);\n        //每次进入修改密码前先清空上一次的错误提示\n        this.$validator.errors.clear();\n        vm.editUser.password='';\n        vm.editUser.repassword='';\n      },\n      save: function () {\n        var editUser = this.editUser, $Message = this.$Message;\n        this.$validator.validateAll().then(function(valid){\n          if(valid){\n            axios.post(getUrl(\"updatePwd\"), {\n              employeeId: editUser.employeeId,\n              appAccountPwd: editUser.password\n            }).then(function(data){\n              if(data.code === 0){ // 操作成功\n                $Message.success(\"操作成功\");\n                vm.reload();\n              }else{\n                $Message.warning(data.msg);\n              }\n            });\n          }else {\n            $('.tip-danger').css('color','#e75033');\n          }\n        });\n      },\n      // 取消编辑操作\n      cancel: function(){\n        this.showList = true;\n        this.editUser = {};\n      },\n      reload: function () {\n        vm = this;\n        vm.showList = true;\n        if(vm.q.username!=''){\n          vm.q.username=String(vm.q.username).replace(/\\s+/g,\"\").toUpperCase();\n        }\n        axios.get(getUrl(\"userList\"), {\n          params: {\n            userName: vm.q.username,\n            currPage: vm.currPage,\n            pageSize: vm.size\n          },\n          loading: true,\n          unload: true,\n        }).then(function(data){\n          vm.spinShow=false;\n          var page = data.page;\n          vm.getPage=true;\n          vm.getSize=true;\n          vm.totalCount = page.totalCount;\n          if(page.list && page.list.length>0){\n            page.list.forEach(function(v,i){\n              if(v.tPrimary==1){\n                v.tPrimary='主岗';\n              }else {\n                v.tPrimary='兼职';\n              }\n\n            });\n            vm.tableData = page.list;\n          }else {\n            vm.tableData=[];\n            vm.noDataText='暂无数据';\n          }\n\n          vm.currPage = page.currPage;\n        }).catch(function(err){\n          vm.spinShow=false;\n          vm.noDataText='暂无数据';\n          console.log(err);\n        })\n      },\n      getUser: function(userData){\n        this.editUser = $.extend({}, userData);\n      },\n      // 表格页码切换\n      changePage: function (page) {\n        vm.spinShow=true;\n        this.currPage = page;\n        if(this.getPage){\n          this.reload();\n        }else {\n          this.getPage=false;\n        }\n      },\n      // 表格显示条数切换\n      changeSize: function (pageSize) {\n        vm.spinShow=true;\n        this.size = pageSize;\n        this.currPage=1;\n        if(this.getSize){\n          this.reload();\n        }else {\n          this.getSize=false;\n        }\n      },\n      tableWidth:function(){\n        if(document.body.clientWidth<=1400){\n          // vm.tableWidth_=1600;\n          //$('.table-wrap').css({'overflowX':'scroll','minWidth':'800px'})\n          vm.columns.forEach(function(v,i){\n            v.width='';\n          })\n          vm.columns[0].width='100'\n        }\n\n      },\n      cleartip:function(){\n        if (!!window.ActiveXObject || \"ActiveXObject\" in window) {\n          $('.tip-danger').css('color','transparent');\n\n        }\n      },\n      downLoad:function(){\n        var url=getUrl(\"userdownLoad\")+\"?userName=\"+vm.q.username\n        document.getElementById('loadIframe').src=url;\n      }\n\n    },\n    // 及早地给校验器绑定配置信息\n    beforeCreate: function(){\n      var vm = this, v = this.$validator, rules = {\n        \"confirm\": {\n          validate: function(value){\n            return vm.editUser.password == value;\n          },\n          getMessage: \"两次密码不一致\"\n        }\n      };\n      for(var i in rules){\n        v.extend(i, rules[i])\n      }\n    },\n    mounted:function(){\n      $(window).on('resize',function(){\n        vm.tableWidth();\n      });\n      this.reload();\n      this.tableWidth();\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/sys/user.vue"],"sourceRoot":""}